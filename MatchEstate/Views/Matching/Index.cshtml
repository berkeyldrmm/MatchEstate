@using Shared.Dtos.PropertyListing
@using Shared.Dtos.PropertyRequest
@model List<(PropertyRequestCardDto request, PropertyListingCardDto listing)>

<div class="container-fluid pt-4 px-4">
    <h2>Current Matches</h2>
    @foreach (var listingRequestPair in Model)
    {
        <div class="card mb-2 ml-4">
            <div class="card-header">
                @listingRequestPair.request.Title <i class="fa fa-arrow-right"></i> @listingRequestPair.listing.Title
            </div>
            <div class="card-body d-grid">
                <div class="row">
                    <div class="col-4">
                        <h5><b>Request Title:</b> @listingRequestPair.request.Title</h5>
                        <p><b>Client Name Surname:</b> @listingRequestPair.request.ClientNameSurname</p>
                        <p><b>Property Type:</b> @listingRequestPair.request.PropertyType</p>
                        <p><b>Property Status:</b> @listingRequestPair.request.PropertyStatus</p>
                        <p><b>City:</b> @listingRequestPair.request.City</p>
                        <p><b>Price Range:</b> @listingRequestPair.request.MinPrice - @listingRequestPair.request.MaxPrice <i class="fa fa-dollar"></i></p>
                        <p><b>Added Date:</b> @listingRequestPair.request.AddedDate</p>
                        <a href="/propertyrequest/detail/@listingRequestPair.request.Id" class="btn btn-primary">View the request</a>
                    </div>
                    <div class="col-4 d-flex justify-content-center align-items-center">
                        <i class="fa fa-arrow-right" style="font-size:25px;"></i>
                    </div>
                    <div class="col-4">
                        <h5><b>Listing Title:</b> @listingRequestPair.listing.Title</h5>
                        <p><b>Client Name Surname:</b> @listingRequestPair.listing.ClientNameSurname</p>
                        <p><b>Property Type:</b> @listingRequestPair.listing.PropertyType</p>
                        <p><b>Property Status:</b> @listingRequestPair.listing.PropertyStatus</p>
                        <p><b>Address:</b> @listingRequestPair.listing.Address</p>
                        <p><b>Price:</b> @listingRequestPair.listing.Price <i class="fa fa-dollar"></i></p>
                        <p><b>Added Date:</b> @listingRequestPair.listing.AddedDate</p>
                        <a href="/propertylisting/detail/@listingRequestPair.listing.Id" class="btn btn-primary">View the listing</a>
                    </div>
                </div>
            </div>
        </div>
    }
</div>
<script>
    $("#navMatch").addClass("active");
</script>